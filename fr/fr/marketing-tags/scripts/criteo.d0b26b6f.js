(function(){"use strict";if(/@|%40/.test(document.location.href))return!1;const r={...window.utag_data||{},get country(){return window.location.pathname.split("/")[1]},get language(){return window.location.pathname.split("/")[2]},get site_level_1(){return window.location.pathname.split("/")[3]},get site_level_2(){return window.location.pathname.split("/")[4]}};({_CRT_ID:16273,_DEV_TYPE:/iPad/.test(navigator.userAgent)?"t":/Mobile|iP(hone|od)|Android|BlackBerry|IEMobile|Silk/.test(navigator.userAgent)?"m":"d",init:function(){window.criteo_q=window.criteo_q||[];let e=document.createElement("script");e.async=!0,e.src=`//dynamic.criteo.com/js/ld/ld.js?a=${this._CRT_ID}`;let t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t),this.initEventTracking()},send:function(e,t={}){window.criteo_q.push({event:"setAccount",account:this._CRT_ID},{event:"setSiteType",type:this._DEV_TYPE},{event:e,...t})},getContents:function(e=[]){let t=[];for(const i of e){let n={};i?.id&&(n.id=i.id),i?.quantity&&(n.quantity=i.quantity),i?.price&&(n.price=i.price),t.push(n)}return t},trackViewItemList:function(){this.trackEventCB("view_item_list",e=>{const{params:t={}}=e,{items:i=[]}=t;let n={item:i.filter(o=>o?.list_position<3).map(o=>o?.id)};return{criteoEvent:"viewList",prodInfo:n}},{once:!0})},trackViewHome:function(){r?.page_type==="home page"&&this.send("viewHome")},trackKitchenInstallation:function(){r?.page_name==="customer-service>services>kitchen-installation"&&this.send("viewList")},trackKitchenVoxtorp:function(){r?.page_name==="rooms>kitchen>voxtorp-blanc-mat-pubd014fb61"&&this.send("viewItem")},trackNewKitchen:function(){r?.page_name==="rooms>kitchen>gallery>votre-nouvelle-cuisine-pour-moins-de-300eur-pub6e069dd0"&&this.send("viewItem")},trackYourNewKitchen:function(){r?.page_name==="rooms>kitchen>gallery>votre-nouvelle-cuisine-pour-moins-de-600eur-pub912c88e0"&&this.send("viewItem")},trackActivateConsumerLedKitchen:function(){window.location.search.match("utm_campaign=FR_ActivateConsumerLed_Behavioural_0_0_Kitchen")||this.send("viewList")},trackViewItem:function(){if(r?.site_level_1!=="p")return;let e={item:r?.product_ids?.[0]};this.send("viewItem",e)},trackViewBasket:function(){this.trackEventCB("checkout_progress",e=>{const{event_label:t,params:i={}}=e,{items:n=[]}=i;if(t==="cart_view"&&n?.length)return;let o={item:this.getContents(n)};return{criteoEvent:"viewBasket",prodInfo:o}})},trackPurchase:function(){this.trackEventCB("purchase",e=>{let{name:t,event_label:i,params:n={}}=e,{transaction_id:o,items:c=[]}=n;if(t!=="purchase"&&i!=="success")return;let s={id:o,item:this.getContents(c)};return{criteoEvent:"trackTransaction",prodInfo:s}})},trackEventCB:function(e,t){window.addEventListener(e,({detail:i={}})=>{let{criteoEvent:n,prodInfo:o={}}=t(i)||{};n&&this.send(n,o)})},initEventTracking:function(){this.trackViewItemList(),r?.page_name==="home page"?this.trackViewHome():r?.page_name==="customer-service>services>kitchen-installation"?this.trackKitchenInstallation():r?.page_name==="rooms>kitchen>voxtorp-blanc-mat-pubd014fb61"?this.trackKitchenVoxtorp():r?.page_name==="rooms>kitchen>gallery>votre-nouvelle-cuisine-pour-moins-de-300eur-pub6e069dd0"?this.trackNewKitchen():r?.page_name==="rooms>kitchen>gallery>votre-nouvelle-cuisine-pour-moins-de-300eur-pub6e069dd0"?this.trackYourNewKitchen():window.location.search.match("utm_campaign=FR_ActivateConsumerLed_Behavioural_0_0_Kitchen")?this.trackActivateConsumerLedKitchen():r?.site_level_1==="p"?this.trackViewItem():window.Checkout&&(this.trackViewBasket(),this.trackPurchase())}}).init()})();
